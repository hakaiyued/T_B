<?xml version="1.0" ?>
<mujoco>
  <!-- python no this attribute -->
  <!-- compiler autolimits="true"/ -->

  <asset>
    <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1=".1 .2 .3" rgb2=".2 .3 .4"/>
    <material name="grid" texture="grid" texrepeat="2 2" texuniform="true" reflectance=".2"/>
    <texture name="plate" type="2d" builtin="flat" width="512" height="512" rgb1=".7 .7 .7" rgb2=".2 .3 .4"/>
    <material name="plate" texture="plate" texuniform="true" reflectance=".5"/>
    <mesh name="inspection_arm" scale=".01 .01 .01"
      vertex="-10  1   5
              -10 -1   5
               10  1   5
               10 -1   5
              -10  1  -5
              -10 -1  -5
              -8   1  -5
              -8  -1  -5
               10  1  -5
               10 -1  -5
               8   1  -5
               8  -1  -5
              -8   1   3
              -8  -1   3
              -1   1   3
              -1  -1   3
               8   1   3
               8  -1   3
               1   1   3
               1  -1   3
              -1   1  -5
              -1  -1  -5
               1   1  -5
               1  -1  -5"/>
    <mesh name="station_mesh" file="/home/kyle/workspaces/mujoco-3.2.2/model/Lar_T/station_mesh.stl" scale=".001 .001 .001"/>
    <mesh name="movable_mesh" file="/home/kyle/workspaces/mujoco-3.2.2/model/Lar_T/movable_mesh.stl" scale=".001 .001 .001"/>
    <mesh name="suction_mesh" file="/home/kyle/workspaces/mujoco-3.2.2/model/Lar_T/suction_mesh.stl" scale=".001 .001 .001"/>
  </asset>

  <default>
    <!-- python no the actuatorfrcrange attribute -->
    <!-- joint damping=".03" actuatorfrcrange="-0.5 0.5"/ -->
    <joint damping=".03"/>
    <!-- replaced by imported obj -->
    <default class="station">
      <geom type="cylinder" size=".05 .025" rgba=".1 .1 .1 1"/>
    </default>
    <default class="movable_bearer">
      <geom type="cylinder" size=".015 .04" rgba=".5 .5 1 1"/>
    </default>
  </default>

  <worldbody>
    <geom type="plane" size="0.5 0.5 .01" material="grid" pos="0.5 0.5 0"/>
    <light name="top light" pos="0.5 0.5 2" diffuse=".8 .8 .8"/>

    <!-- fixed stations -->
    <body name="D" pos="0.1 0.1 0">
      <!-- geom class="station" /-->
      <geom type="mesh" mesh="station_mesh"/>
    </body>
    <body name="A" pos="0.35 0.1 0">
      <geom type="mesh" mesh="station_mesh"/>
    </body>
    <body name="MTF" pos="0.6 0.1 0">
      <geom type="mesh" mesh="station_mesh"/>
    </body>
    <body name="D_buf2" pos="0.1 0.5 0">
      <geom type="mesh" mesh="station_mesh"/>
    </body>

    <!-- plate -->
    <body name="plate_process" pos="0.5 0.4 0">
      <geom type="plane" size="0.15 0.075 .01" material="plate"/>
    </body>
    <body name="plate_product" pos="0.5 0.6 0">
      <geom type="plane" size="0.15 0.075 .01" material="plate"/>
    </body>

    <!-- inspection_arm -->
    <body name="inspectio_arm_main" pos="0.5 0.1 0.5">
      <!-- both side increase 1 cm in x direction -->
      <geom type="box" size="0.26 0.01 0.01" rgba="0.3 1.0 0.3 1"/>
      <body name="inspectio_arm_left" pos="-0.25 0 -0.05" euler="0 180 0">
        <geom type="box" size="0.01 0.01 0.05" rgba="0.3 1.0 0.3 1"/>
      </body>
      <body name="inspectio_arm_middle" pos="0 0 -0.05" euler="0 180 0">
        <geom type="box" size="0.01 0.01 0.05" rgba="0.3 1.0 0.3 1"/>
      </body>
      <body name="inspectio_arm_right" pos="0.25 0 -0.05" euler="0 180 0">
        <geom type="box" size="0.01 0.01 0.05" rgba="0.3 1.0 0.3 1"/>
      </body>
    </body>

    <!-- T-bar -->
    <body name="T-bar_main" pos="0.5 0.5 0.5">
      <!-- both side increase 1 cm in x direction -->
      <geom type="box" size="0.01 0.01 0.025" rgba="0.3 1.0 0.3 1"/>
      <body name="T-bar_left" pos="0 0 -0.025" euler="0 180 0">
        <geom type="mesh" mesh="suction_mesh" rgba="0.3 1.0 0.3 1"/>
      </body>
    </body>

    <!-- movable_bearer -->
    <body name="roate_beaer_base" pos="0.1 0.1 0.18">
      <joint name="rotate_bearer_slide_joint" type="slide" axis="0 1 0"/>
      <geom type="sphere" size="0.01"/>
        <body name="rotate_bearer" pos="0 0 0" euler="0 180 0">
          <!-- mass is important, the unit system I used is MKS, 
          official explane that 1000 is 1 kg-->
          <geom type="mesh" mesh="movable_mesh" mass="100.0"/>
          <joint name="rotate_bearer_hinge_joint" type="hinge" axis="0 1 0"/>
        </body>
      </body>
    <body name="blow_bearer" pos="0.85 0.1 0.001">
      <geom type="mesh" mesh="movable_mesh"/>
      <joint name="blow_bearer_joint" type="slide" axis="0 1 0"/>
    </body>

  </worldbody>

  <actuator>
    <!-- postion can only set kp, add velocity kv -->
    <position joint="rotate_bearer_slide_joint" kp="1000" ctrlrange="0 0.8"/>
    <velocity joint="rotate_bearer_slide_joint" kv="500"/>
    <position joint="rotate_bearer_hinge_joint" kp="100" ctrlrange="0 3.14"/>
    <velocity joint="rotate_bearer_hinge_joint" kv="5"/>
    <position joint="blow_bearer_joint" kp="10" ctrlrange="0 0.8"/>
    <velocity joint="blow_bearer_joint" kv="2"/>
  </actuator>

  <sensor>
  </sensor>
</mujoco>